<!DOCTYPE html>
<html lang="fr" data-bs-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mes Sessions - TutoAfrica</title>

    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    
    <style>
        :root {
            --vert-tuto: #2D7D62;
            --vitesse: 0.3s ease;
        }

        [data-bs-theme="light"] {
            --fond-page: #f1f5f9;
            --fond-carte: #ffffff;
            --texte: #1e293b;
            --bordure: rgba(0,0,0,0.1);
        }

        [data-bs-theme="dark"] {
            --fond-page: #0f172a;
            --fond-carte: #1e293b;
            --texte: #f8fafc;
            --bordure: rgba(255,255,255,0.1);
        }

        body { 
            background-color: var(--fond-page); 
            color: var(--texte);
            transition: var(--vitesse);
            padding-bottom: 50px;
        }

        .selecteur-langue { position: fixed; top: 20px; right: 20px; z-index: 1000; }

        .btn-retour {
            text-decoration: none; color: var(--texte);
            font-weight: 600; display: inline-flex; align-items: center; gap: 8px;
            margin-bottom: 20px; transition: 0.2s;
        }
        .btn-retour:hover { color: var(--vert-tuto); transform: translateX(-5px); }

        .carte-principale {
            background: var(--fond-carte);
            border: 1px solid var(--bordure);
            border-radius: 15px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            margin-bottom: 30px;
        }

        .form-controle-tuto {
            background: var(--fond-page);
            border: 1px solid var(--bordure);
            border-radius: 10px;
            padding: 10px 15px;
            color: var(--texte);
        }

        .btn-primaire-tuto {
            background-color: var(--vert-tuto);
            color: white; border: none; border-radius: 10px;
            padding: 12px; font-weight: 700; width: 100%;
        }

        /* Styles originaux conservÃ©s et adaptÃ©s */
        .session-card {
            border: 1px solid var(--bordure);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 15px;
            transition: 0.2s;
            background: var(--fond-carte);
        }
        .session-card:hover { border-color: var(--vert-tuto); }
        .session-date, .session-time, .session-students {
            font-size: 0.85rem; color: #64748b; margin-right: 15px;
        }
        .session-card i { color: var(--vert-tuto); margin-right: 5px; }
    </style>
</head>
<body>

<div class="selecteur-langue">
    <select class="form-select form-select-sm" id="selecteurLang" onchange="basculerLangue(this.value)">
        <option value="fr">ðŸ‡¨ðŸ‡² FR</option>
        <option value="en">ðŸ‡¬ðŸ‡§ EN</option>
    </select>
</div>

<div class="container mt-5">
    <a href="boardEnseignant.html" class="btn-retour">
        <i class="bi bi-arrow-left"></i> <span data-fr="Retour au Dashboard" data-en="Back to Dashboard">Retour au Dashboard</span>
    </a>

    <div class="d-flex justify-content-between align-items-center mb-4">
        <div>
            <h2 class="fw-bold" data-fr="Mes Sessions" data-en="My Sessions">Mes Sessions</h2>
            <p class="text-muted mb-0" data-fr="GÃ©rez toutes vos sessions de tutorat" data-en="Manage all your tutoring sessions">GÃ©rez toutes vos sessions de tutorat</p>
        </div>
    </div>

    <div class="carte-principale p-4">
        <h5 class="fw-bold mb-3" data-fr="Programmer une nouvelle session" data-en="Schedule a new session">Programmer une nouvelle session</h5>
        <form id="formulaireSession">
            <div class="row g-3">
                <div class="col-md-6">
                    <label class="small fw-bold mb-1" data-fr="Nom du cours" data-en="Course Name">Nom du cours</label>
                    <input type="text" id="nomCours" class="form-controle-tuto w-100" required placeholder="Ex: MathÃ©matiques">
                </div>
                <div class="col-md-3">
                    <label class="small fw-bold mb-1">Date</label>
                    <input type="date" id="dateCours" class="form-controle-tuto w-100" required>
                </div>
                <div class="col-md-3">
                    <label class="small fw-bold mb-1" data-fr="Heure" data-en="Time">Heure</label>
                    <input type="time" id="heureCours" class="form-controle-tuto w-100" required>
                </div>
                <div class="col-md-12">
                    <label class="small fw-bold mb-1" data-fr="Objectif pÃ©dagogique" data-en="Learning Objective">Objectif pÃ©dagogique</label>
                    <textarea id="objectifCours" class="form-controle-tuto w-100" rows="2" placeholder="Ex: MaÃ®triser les dÃ©rivÃ©es..."></textarea>
                </div>
                <div class="col-md-12 text-end">
                    <button type="submit" class="btn-primaire-tuto" style="max-width: 200px;">
                        <span data-fr="CrÃ©er la session" data-en="Create session">CrÃ©er la session</span>
                    </button>
                </div>
            </div>
        </form>
    </div>
    <div class="row mb-4">
        <div class="col">
            <div class="btn-group" role="group">
                <button type="button" class="btn btn-outline-primary active" data-filter="all" data-fr="Toutes" data-en="All">Toutes</button>
                <button type="button" class="btn btn-outline-primary" data-filter="upcoming" data-fr="Ã€ venir" data-en="Upcoming">Ã€ venir</button>
                <button type="button" class="btn btn-outline-primary" data-filter="ongoing" data-fr="En cours" data-en="Ongoing">En cours</button>
                <button type="button" class="btn btn-outline-primary" data-filter="completed" data-fr="TerminÃ©" data-en="Completed">TerminÃ©</button>
            </div>
        </div>
    </div>

    <div class="card carte-principale border-0 shadow-none">
        <div class="card-header bg-transparent border-bottom">
            <h5 class="mb-0 fw-bold" data-fr="Mes Sessions / Historique" data-en="My Sessions / History">Mes Sessions / Historique</h5>
        </div>

        <div class="card-body" id="conteneurListe">
            <div class="session-card" data-status="upcoming">
                <div class="d-flex justify-content-between align-items-start">
                    <div>
                        <h6 class="fw-bold mb-1">MathÃ©matiques</h6>
                        <div class="mb-2">
                            <span class="session-date"><i class="bi bi-calendar"></i> 10/01/2026</span>
                            <span class="session-time"><i class="bi bi-clock"></i> 14:00</span>
                            <span class="session-students"><i class="bi bi-people"></i> 5 Ã©tudiant(s)</span>
                        </div>
                        <div class="small text-muted fst-italic">
                            <i class="bi bi-info-circle"></i> <span data-fr="Objectif : Exercices sur les limites" data-en="Goal: Limits exercises">Objectif : Exercices sur les limites</span>
                        </div>
                    </div>
                    <div>
                        <span class="badge bg-warning text-dark" data-fr="Ã€ venir" data-en="Upcoming">Ã€ venir</span>
                    </div>
                </div>
            </div>

            <div class="session-card" data-status="completed">
                <div class="d-flex justify-content-between align-items-start">
                    <div>
                        <h6 class="fw-bold mb-1">Informatique</h6>
                        <div class="mb-2">
                            <span class="session-date"><i class="bi bi-calendar"></i> 08/01/2026</span>
                            <span class="session-time"><i class="bi bi-clock"></i> 10:00</span>
                            <span class="session-students"><i class="bi bi-people"></i> 8 Ã©tudiant(s)</span>
                        </div>
                    </div>
                    <div>
                        <span class="badge bg-success" data-fr="TerminÃ©" data-en="Completed">TerminÃ©</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    function basculerLangue(langue) {
        localStorage.setItem('languePreferee', langue);
        $('[data-en]').each(function() {
            $(this).text($(this).data(langue));
        });
    }

    $(document).ready(function() {
        // Initialisation langue
        const langueSauvee = localStorage.getItem('languePreferee') || 'fr';
        $('#selecteurLang').val(langueSauvee);
        basculerLangue(langueSauvee);

        // Ta logique de filtrage originale
        $(".btn-group .btn").click(function() {
            $(".btn-group .btn").removeClass("active");
            $(this).addClass("active");

            const filtre = $(this).data("filter");
            if (filtre === "all") {
                $(".session-card").show();
            } else {
                $(".session-card").hide();
                $(`.session-card[data-status="${filtre}"]`).show();
            }
        });

        // Gestion de l'ajout (Logique dynamique)
        $('#formulaireSession').on('submit', function(e) {
            e.preventDefault();
            
            const titre = $('#nomCours').val();
            const date = $('#dateCours').val();
            const heure = $('#heureCours').val();
            const objectif = $('#objectifCours').val();

            const nouvelleCarte = `
                <div class="session-card" data-status="upcoming">
                    <div class="d-flex justify-content-between align-items-start">
                        <div>
                            <h6 class="fw-bold mb-1">${titre}</h6>
                            <div class="mb-2">
                                <span class="session-date"><i class="bi bi-calendar"></i> ${date}</span>
                                <span class="session-time"><i class="bi bi-clock"></i> ${heure}</span>
                                <span class="session-students"><i class="bi bi-people"></i> 0 Ã©tudiant(s)</span>
                            </div>
                            <div class="small text-muted fst-italic">
                                <i class="bi bi-info-circle"></i> Objectif : ${objectif}
                            </div>
                        </div>
                        <div><span class="badge bg-warning text-dark">Ã€ venir</span></div>
                    </div>
                </div>
            `;

            $('#conteneurListe').prepend(nouvelleCarte);
            $(this)[0].reset();
            alert("Session enregistrÃ©e !");
        });
    });

    // ThÃ¨me auto
    const rafraichirTheme = () => {
        const estSombre = window.matchMedia('(prefers-color-scheme: dark)').matches;
        document.documentElement.setAttribute('data-bs-theme', estSombre ? 'dark' : 'light');
    }
    window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', rafraichirTheme);
    rafraichirTheme();
</script>

</body>
</html>